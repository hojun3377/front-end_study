<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>HTML script</title>
  </head>
  <body>
    <main>
      <h1>HTML의 javascript</h1>
      <p>
        자바스크립트는 document object가 생성된 후 실행되며, 화면을 동적으로 만들어준다.
        <br>요소의 속성으로 on으로 시작하는 이벤트 속성은 특정 이벤트가 발생시 동작한다.
        <br>html은 웹 컨텐츠의 구조와 의미를 정의하고(구조적 언어), css는 구성된 html을 꾸며주며,
        <br>javascript는 브라우저에서 유저의 이벤트를 받아 html(dom)과 bom, css를 수정한다.
      </p>
      <hr>
      <article>
        <h2>자바스크립트가 할 수 있는 일의 목록</h2>
        <ol>
          <li>모든 html 요소(dom)를 변경할 수 있다.</li>
          <li>모든 html 요소의 속성을 변경할 수 있다.</li>
          <li>모든 html 요소의 스타일을 변경할 수 있다.</li>
          <li>기존 요소와 속성을 제거할 수 있다.</li>
          <li>새로운 요소와 속성을 추가할 수 있다.</li>
          <li>모든 이벤트에 반응할 수 있다.</li>
          <li>새로운 이벤트를 생성할 수 있다.</li>
        </ol>
      </article>
      <hr>
      <article>
        <h2>DOMTree HTML 문서 객체 모델</h2>
        <p>HTML DOM은 HTML을 위한 표준 객체 모델로 브라우저의 프로그래밍 인터페이스다.</p>
        <ul>
          <li>HTML요소를 Object 객체로 생성 후 DOMTree로 구성</li>
          <li>모든 html 속성을 property로 구성함</li>
          <li>모든 html object를 액세스 하는 방법을 제공</li>
          <li>모든 html 요소에 이벤트 속성을 제공함</li>
        </ul>
      </article>
      <article>
        <h2>Javascript HTML DOM Document</h2>
        <p>웹페이지를 조작하려면 dom 요소(속성,스타일)를 수정, 삭제, 추가 등을 해야하는데, 이를 위해서 document를 액세스(참조) 해야한다.</p>
        <h3>Finding HTML Elements(Document Access)</h3>
        <p>
          요소를 수정하기 위해서는 요소 하나만 액세스해야한다. 만약 HTMLCollection을 액세스하면 배열에서 특정 element를 선택해야한다. ( HTMLCollection[index] )
          <br>css는 복수의 요소를 모두 수정할 수 있다. ex) .className{}, tagName{}
          <br>HTMLCollection = [element, element, element, ...] (복수의 객체 배열)
          <br>getElementById("idName") => element (단 하나의 객체)
        </p>
        <ul>
          <li>document.getElementById("idName") : id로 <strong style="text-decoration: underline">하나</strong>의 element를 access
          </li>
          <li>document.getElementsByClassName("className") : class로 <strong style="text-decoration: underline">복수</strong>의 elements(HTMLCollection)를 access</li>
          <li>document.getElementsByTagName("tagName") : tag로 <strong style="text-decoration: underline">복수</strong>의 elements(HTMLCollection)를 access</li>
          <li>document.querySelector("cssSelector") : ., # 같은 css 선택자로 액세스하는 <strong style="text-decoration: underline">하나</strong>의 element를 access</li>
          <li>document.querySelectorAll("cssSelector") : css 선택자로 <strong style="text-decoration: underline">복수</strong>의 elements를 access</li>
        </ul>
      </article>
      <article>
        <h3>Changing HTML Element (요소의 속성과 내용 수정)</h3>
        <p id="changingText" class="testName01 testName02" style="color: rgb(255,0,0);">요소 속성 및 내용 수정 테스트</p>
        <ul>
          <li>
            element.innerHTML = "&lt;tagName&gt;new html&lt;/tagName&gt;" : 요소 내부의 컨텐츠를 변경하는데, 이때 element(tag)를 추가할 수 있다.
            <br><input type="button" value="내용추가" onclick="document.getElementById('changingText').innerHTML='<b>html 포함 내용</b>'">
          </li>
          <li>
            element.innerText = "text" : 요소 내부의 text를 변경
            <br><input type="button" value="텍스트추가" onclick="document.getElementById('changingText').innerText='<b>html 제외 내용 수정</b>'">
          </li>
          <li>
            element.outerHTML = "html" : access한 element 포함하는 요소 전체를 변경
          </li>
          <li>
            element.outerText = "text" : access한 element 포함하는 요서 전체를 text로 변경
          </li>
          <li>
            element.attributeName(속성 이름) = "value" : 요소의 속성을 수정 or 값을 부여
            <br>[id 이름 검색 :
<script>
// 해당 위치에 document를 추가한다.
document.write("<strong>"+document.getElementById("changingText").id+"</strong>");
</script>
            ]
            <br>[class 이름 검색 :
<script>
document.write("<strong>"+document.getElementById("changingText").className+"</strong>");
</script>
            ]
          </li>
          <li>
            element.style.propertyName(프로퍼티 이름) = "new style" : 요소의 스타일을 변경
            <br>[#changingText의 스타일 :
<script>
// object CSSStyleDeclaration : 스타일 프로퍼티 모임
document.write("<strong>"+document.getElementById("changingText").style+"</strong>")
</script>
            ]
            <br>[#changingText의 폰트 색 :
<script>
document.write("<strong>"+document.getElementById("changingText").style.color+"</strong>")
</script>
            ]
            <br><input type="button" value="폰트 색 변경(yellow)" onclick="document.getElementById('changingText').style.color='rgb(255,255,0)'">
          </li>
          <li>element.setAttribute("attributeName", "value") : 요소에 속성과 값을 부여</li>
          <li>element.removeAttribute("attributeName") : 요소의 속성을 제거</li>
          <li>
            element.remove() : 요소를 삭제
            <br><input type="button" value="요소 삭제" onclick="if(document.getElementById('changingText')) document.getElementById('changingText').remove()">
          </li>
        </ul>
      </article>
      <hr>
      <article>
        <h2>Grobal 이벤트 속성</h2>
        <p>
          HTML 요소에 부여된 이벤트 속성으로 브라우저에서 이벤트 작업을 트리거하는 기능이 있다.
          <br>on으로 시작하는 이벤트 속성으로 HTML DOM과 같이 생성되기 때문에 같이 생성되기 때문에 전역 이벤트로 지정된다.
          <br>종류 : 윈도우 이벤트(Window), 마우스 이벤트(Mouse), 키보드 이벤트(Keyboard), 양식(폼) 이벤트(Form), 드래그 이벤트(Drag), 클립보드 이벤트(Clipboard), 미디어 이벤트(Media)
        </p>
        <h3>마우스 이벤트</h3>
        <p>
          윈도우(브라우저)는 마우스의 이벤트를 발생할 때까지 기다리고 있다.(리스너)
          <br>거의 모든 요소에 마우스 이벤트를 추가할 수 있다.
        </p>
        <ul>
          <li>onclick : 마우스로 요소를 클릭하면 이벤트가 발생한다.
          </li>
          <li>ondblclick : 마우스로 요소를 더블 클릭하면 이벤트가 발생한다.</li>
          <li>onmousedown : 요소를 마우스 버튼으로 눌렀을 경우(마우스에 존재하는 버튼 모두 가능) 이벤트가 발생한다.</li>
          <li>onmouseup : 마우스 버튼으로 누른 요소를 놓았을 때 이벤트가 발생한다.</li>
          <li>onmouseover : 마우스 포인터 요소 위로 올라올 때 이벤트가 발생한다.</li>
          <li>onmouseout : 요소에 놓은 포인터가 빠져나갈 때 이벤트가 발생한다.</li>
          <li>onmousemove : 마우스 포인터가 요소 위를 이동할 때 이벤트가 발생한다.</li>
          <li>onwheel : 요소 이에서 마우스 휠을 굴릴 때 이벤트가 발생한다.</li>
          <li>
            <!-- 마우스 클릭시 onmousedown > onmouseup > onclick -->
            실습 ( console창 확인 )
            <div style="width: 200px; height: 200px; background-color: rgb(150,150,150); text-align: center; line-height: 200px;"
            onclick="this.innerText='onclick'; console.log('onclick')"
            ondblclick="this.innerText='ondblclick'; console.log('ondblclick')"
            onmousedown="this.innerText='onmousedown'; console.log('onmousedown')"
            onmouseup="this.innerText='onmouseup'; console.log('onmouseup')"
            onmouseover="this.innerText='onmouseover'; console.log('onmouseover')"
            onmouseout="this.innerText='onmouseout'; console.log('onmouseout')"
            onmousemove="this.innerText='onmousemove'; console.log('onmousemove')"
            onmousewheel="this.innerText='onmousewheel'; console.log('onmousewheel')"
            >
            </div>
          </li>
        </ul>
        <h3>MouseEvent Object(event)</h3>
        <p>
          마우스 이벤트가 발생하면(onclick 설정된 요소를 클릭하면), event 이름의 MouseEvent 객체가 생성된다.
          <br>이때 event 는 마우스의 정보(위치,버튼)를 가지고 있다. (<strong>Read Only</strong>)
        </p>
        <ul>
          <li>
            event.button : 이벤트 발생시 누른 마우스 버튼을 반환
            <br>(0: 왼쪽, 1: 휠, 2: 오른쪽)
            <br>(마우스를 누르는 이벤트에서만 동작 default: 0)
          </li>
          <li>
            event.which : 이벤트 발생시 누른 마우스 버튼을 반환
            <br>(0: 누르지 않음, 1: 왼쪽, 2: 휠, 3: 오른쪽)
          </li>
          <li>
            event.buttons : 이벤트 발생시 누른 마우스 버튼을 반환 <strong>**</strong>사파리에서 지원(x)<strong>**</strong>
            <br>( 0: 누르지 않음, 1: 왼쪽, 2: 오른쪽, 3: 왼쪽+오른쪽, 4: 휠, 8: 뒤로가기, 16: 앞으로가기 )
          </li>
          <li>pageX, pageY : 문서(html) 전체를 기준으로 마우스 포인터의 x,y 좌표를 반환</li>
          <li>clientX, clientY : 현재 브라우저 창(window)을 기준으로 마우스 포인터의 x,y 좌표를 반환</li>
          <li>screenX, screenY : 사용자의 화면 전체(monitor)를 기준으로 마우스 포인터의 x,y 좌표를 반환</li>
          <li>offsetX, offsetY : 대상 요소(element)를 기준으로 마우스 포인터의 x,y 좌표를 반환</li>
          <li>
            <h4>마우스 이벤트 발생 시 생성되는 event 예제</h4>
            <div style="width: 100%; height: 500px; border: 1px solid black; background-color: rgb(200,200,200);" onmousemove="showEventInf(event,this)">
              <!-- position absolute 문서의 상단을 절대 기준으로 잡고 left top 위치로 이동 -->
              <!-- position relative 요소의 상단을 절대 기준으로 잡고 left top위치로 이동 -->
              <p id="moveEventInf" style="display: inline-block; position: relative;"></p>
            </div>
<script>
// event는 이벤트 발생시 브라우저가 생성하는 객체
// this는 이벤트가 발생한 요소를 참조 (this는 js 최상위에서는 window, html 최상위에서는 document, 특정요소에서는 element)
function showEventInf(e,thisObj) {
var eventInf="";
eventInf+="button num: "+e.button;
eventInf+="<br>buttons num: "+e.buttons;
eventInf+="<br>which num: "+e.which;
eventInf+="<br>pageX: "+e.pageX+", pageY: "+e.pageY;
eventInf+="<br>clientX: "+e.clientX+", clientY: "+e.clientY;
eventInf+="<br>screenX: "+e.screenX+", screenY: "+e.screenY;
eventInf+="<br>offsetX: "+e.offsetX+", offsetY: "+e.offsetY+"</p>";
// thisObj.innerHTML=eventInf;

// 과제
// p#moveEventInf에 eventInf를 출력하고 p#moveEventInf가
// (mousemove 이벤트 발생 시) 마우스 포인트를 따라서 움직이게 한다.
var moveEventInf=document.getElementById("moveEventInf");;
moveEventInf.innerHTML=eventInf;
moveEventInf.style.left=e.offsetX+"px";
moveEventInf.style.top=e.offsetY+"px";
}
</script>
          </li>
        </ul>
      </article>
      <hr>
      <article>
        <h2>양식(Form) 이벤트</h2>
        <p>form 요소와 form 요소 내부의 입력 요소(input)가 (입력)작업을 할 때 트리거되는 이벤트</p>
        <ul>
          <li>
            onfocus : (입력)요소가 포커스를 받는 순간(마우스 클릭할 때) 이벤트가 발생한다.
            <br><input type="text" onfocus="this.style.backgroundColor='green'">
          </li>
          <li>
            onblur : (입력)요소가 포커스를 잃는 순간(입력창에 빠져나올 때) 이벤트가 발생한다.
            <br><input type="text" onblur="this.style.backgroundColor='red'">
          </li>
          <li>
            test (들어갈 때 초록, 나올 때 하양)
            <br><input type="text"
            onfocus="this.style.backgroundColor='green'"
            onblur="this.style.backgroundColor='white'">
          </li>
          <li>
            onchange : 요소의 값(value)이 변경되고 포커스를 잃는 순간 이벤트가 발생한다.
            <!-- placeholder는 input에서 사용자에게 정보를 주는 역할을 하는데, 이벤트에 영향을 받지 않는다. -->
            <br><input type="text" placeholder="입력하세요"
            onchange="document.getElementById('changeTest').innerText=this.value">
            <br><p style="background-color: rgb(200,200,200);">input 값 : <b id="changeTest"></b></p>
          </li>
          <li>
            oninput : 요소가 사용자의 입력을 받을 때 마다 이벤트가 발생한다.
            <br><input type="text" value="" oninput="alert(this.value)">
          </li>
          <li>oninvalid : 유효성 검사를 추가 (required, pattern)</li>
          <li>onreset : 양식을 재설정(초기화, input type="reset")</li>
          <li>onsearch : type="search"인 요소에서 "Enter" or "X" 버튼을 누르면 발생하는 이벤트이다.</li>
          <li>onselect : 요소에서 일부 텍스트가 선택되면 실행 (document.select() : 입력요소의 value 선택) 되는 이벤트이다.</li>
          <li>onsubmit : 양식을 제출하는 순간 (submit 버튼을 누를 때) 이벤트가 발생한다.</li>
        </ul>
      </article>
      <hr>
      <article>
        <h2>Window 이벤트 속성</h2>
        <p>Window 객체에 대해 트리거된 이벤트 (body 태그에 적용)</p>
        <p>onload : 페이지가 로딩이 왼료된 후 실행</p>
      </article>
      <article>
        <h2>키보드(Keyboard) 이벤트 속성</h2>
        <ul>
          <!-- onkeydown > onkeyup > onkeypress -->
          <li>onkeydown : 키보드 키를 누르는 순간 이벤트가 발생한다.</li>
          <li>onkeyup : 키보드 키를 놓는 순간 이벤트가 발생한다.</li>
          <li>onkeypress : 키보드 키를 누르는 순간 이벤트가 발생한다.</li>
        </ul>
      </article>
    </main>
  </body>
</html>
