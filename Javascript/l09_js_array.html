<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>JavaScript array</title>
  </head>
  <body>
    <main>
      <h1>자바스크립트의 배열</h1>
      <p>여러 변수를 index로 참조해 저장하는 데이터 타입( Iterator 클래스를 상속받는다. )</p>
      <hr>
      <b>작성법</b>
      <ul>
        <li>const arrayName = [item1, item2, ...] (배열의 메타데이터를 변경되지 않기 위해 권장된다, 기본데이터 타입처럼 사용 가능)</li>
        <li>const arrayName = new Array(item1, item2, ...) (권장 x)</li>
      </ul>
      <hr>
      <p>
        <b>호출</b> : array[index]
      </p>
      <p>
        let testList = ["a","b","c","d"];
        <br>testList.toString() :
<script>
let testList = ["a","b","c","d"];
document.write(testList);
</script>
        <br>( **객체를 바로 호출하면 toString()이 생략된다.** )
      </p>
      <hr>
      <p><b>대입</b> : array[index] = value</p>
      <p>
        testList[1] = "B";
        <br>testList.toString() :
<script>
testList[1] = "B";
document.write(testList);
</script>
      </p>
      <hr>
      <p>
        <b>타입</b> : Array.isArray(testList)
        <br>( **배열의 타입을 typeof로 검사할 수 없다.** )
      </p>
      <p>
        typeof testList :
<script>
document.write(typeof testList);
</script>
        <br>Array.isArray(testList) :
<script>
document.write(Array.isArray(testList));
</script>
        ( **Array 타입이면 true** )
      </p>
      <hr>
      <p>
        <b>추가</b> : Array[maxIndex] = value
        <br>( **배열의 끝에 value 추가** )
      </p>
      <p>
        testList[testList.length] = "e";
        <br>testList :
<script>
testList[testList.length] = "e";
document.write(testList);
</script>
      </p>
<script>
const testArr = [1,2,3,4,"오",6.0,7.5];
const testArr2 = [1,2,3,4,"오",6.0,7.5];
const testArr3 = [1,2,3,4,"오",6,7.1];
const testArr4 = [2,3,4,7.5,6.0,1,"오"];
const testArr5 = [2,3,4,7.1,6.0,1,"오"];
const testArrObj = new Array(1,2,3,4,"오",6.0,7.5);


// 익명함수 ( 이름이 없는 함수를 변수가 참조하는 형태의 함수 선언법 )
// 1. 배열 단순 비교 (길이, index에 따른 value)
const arrayCompare = function (arr1, arr2) {
  let len;

  if(arr1.length!=arr2.length) return false;
  else len=arr1.length;

  // 1. of 사용
  // let idx=0;
  // for(let value of arr2) {
  //   if(arr1[idx++]!==value) return false;
  // }

  // 2. in 사용
  for(let i in arr1) {
    if(arr1[i]!==arr2[i]) return false;
  }

  return true;
}

// 2. 순서 신경쓰지 않는 배열 비교
const arrayCompare2 = function (arr1, arr2) {
  let len;

  // 길이 비교
  if(arr1.length!=arr2.length) return false;
  else len=arr1.length;

  // 배열 비교
  // 1. 이중 for문
  for(arr1Value of arr1) {
    let isValue=false;

    for(arr2Value of arr2) {
      if(arr1Value===arr2Value) {
        isValue=true;
        break;
      }
    }

    if(!isValue) return false;
  }

  // 2. filter
  // for(arr1Value of arr1) {
  //   if(arr2.filter(arr2Value => arr1Value===arr2Value).length==1) continue;
  //   return false;
  // }

  return true;
}

console.log(`testArr : ${testArr}`);
console.log(`testArr2 : ${testArr2}`);
console.log(`testArr3 : ${testArr3}`);
console.log(`testArr4 : ${testArr4}`);
console.log(`testArr5 : ${testArr5}`);
console.log(`testArrObj : ${testArrObj}`);
console.log(`testArr==testArr2 : ${testArr==testArr2}`); // 변수명 만으로 배열의 값을 비교할 수 없다.
console.log(`testArr[0]===testArr2[0] : ${testArr[0]===testArr2[0]}`);
console.log(`testArr==testArrObj : ${testArr==testArrObj}`);
console.log(`arrayCompare(testArr,testArr2) : ${arrayCompare(testArr,testArr2)}`);
console.log(`arrayCompare(testArr,testArr3) : ${arrayCompare(testArr,testArr3)}`);
console.log(`arrayCompare2(testArr,testArr4) : ${arrayCompare2(testArr,testArr4)}`);
console.log(`arrayCompare2(testArr,testArr5) : ${arrayCompare2(testArr,testArr5)}`);
</script>
    </main>
  </body>
</html>
