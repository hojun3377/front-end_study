<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>JavaScript Array Method</title>
    <link rel="stylesheet" href="./css/calendar.css">
  </head>
  <body>
    <main>
      <h1>자바스크립트 배열의 유용한 메소드</h1>
<script>
const testArr=["b","c","a","z","f","e","h"];
</script>
      <p>
        const testArr=["b","c","a","z","f","e","h"];
      </p>
      <ul>
        <li>
          arrayObj.toString() : 배열의 값들을 쉼표(,)로 구분하여 결합된 문자열로 출력한다.
          <br>testArr.toString() :
<script>
document.write(testArr.toString());
</script>
        </li>
        <li>
          arrayObj.join(str) : 배열의 값들을 특수한 문자열(str)로 구분하여 결합된 문자열로 출력한다.
          <br>testArr.join() :
<script>
document.write(testArr.join('-'));
</script>
        </li>
        <li>
          arrayObj.pop() : 배열의 마지막 값을 반환하고 제거한다.
<script>
document.write(`<br>testArr : ${testArr}
                <br>testArr.pop() : ${testArr.pop()}
                <br>testArr : ${testArr}`);
</script>
        </li>
        <li>
          arrayObj.push(data) : 배열의 마지막에 값(data)을 추가하고 배열의 길이(length)를 반환한다.
          <br> ** arrayObj[arrayObj.length]=data; 와 정확히 같은 동작을 한다. **
          <br>( 즉, arrayObj의 메타데이터의 변경도 똑같이 발생한다. 하지만 권장되지 않는 방법이다. )
<script>
document.write(`<br>testArr : ${testArr}
                <br>testArr.push("h") : ${testArr.push("h")}
                <br>testArr : ${testArr}`);
</script>
        </li>
        <li>
          arrayObj.shift() : 배열의 첫번째 값을 반환하고, 배열에서 그 값을 제거하면서 모든 data의 index를 한 칸씩 앞으로 당긴다.
          <br>( **pop()과 정반대** )
<script>
document.write(`<br>testArr : ${testArr}
                <br>testArr.shift() : ${testArr.shift()}
                <br>testArr : ${testArr}`);
</script>
        </li>
        <li>
          arrayObj.unshift(data) : 배열의 첫번째에 값(data)을 추가하고 배열의 길이(length)를 반환한다.
          <br> ( **push(data)와 정반대** )
<script>
document.write(`<br>testArr : ${testArr}
                <br>testArr.unshift("b") : ${testArr.unshift("b")}
                <br>testArr : ${testArr}`);
</script>
        </li>
        <li>
          arrayObj.concat(...argArrayObj) : 배열(arrayObj) 의 끝에 새로운 배열들(...argArrayObj) 을 추가한 새로운 배열을 반환한다.
<script>
const testArr2 = [1,3,2];
document.write(`<br>testArr : ${testArr}
                <br>testArr2 : ${testArr2}
                <br>testArr.concat(testArr2) : ${testArr.concat(testArr2)}
                <br>testArr : ${testArr}
                <br>testArr.concat(9,0,testArr2,[4]) : ${testArr.concat(9,0,testArr2,[4])}`);
</script>
        </li>
        <li>
          arrayObj.slice(start, end+1) : arrayObj의 특정 위치(start~end) 의 배열을 새로운 배열로 반환한다.
<script>
document.write(`<br>testArr : ${testArr}
                <br>testArr.slice(2,4) : ${testArr.slice(2,4)}
                <br>testArr : ${testArr}`);
</script>
        </li>
        <li>
          arrayObj.splice(start,len,...argsArray) : arrayObj의 특정 위치(start) 부터 len개의 값을 제거하고 그 위치에 argsArray를 추가하며, 제거된 배열을 반환한다.
<script>
let tempArr;
document.write(`<br><br>testArr : ${testArr}
                <br><br>testArr.splice(2,2,["g","h"],"i") : ${tempArr=testArr.splice(2,2,["g","h"],"i")}
                <br>tempArr : ${tempArr}
                <br>testArr : ${testArr}
                <br><br>testArr.splice(2,2) :
                ${testArr.splice(2,2)}
                <br>testArr : ${testArr}
                <br><br>testArr.splice(2,0,tempArr) :
                ${testArr.splice(2,0,tempArr)}
                <br>testArr : ${testArr}<br><br>`);
</script>
        </li>
        <li>
          arrayObj.sort() : 배열(arrayObj)의 요소를 순서대로 정렬한다.
<script>
document.write(`<br>testArr : ${testArr}
                <br>testArr.sort() : ${testArr.sort()}
                <br>testArr : ${testArr}`);
</script>
        </li>
        <li>
          arrayObj.reverse() : 배열(arrayObj)의 요소를 역순으로 정렬한다.
<script>
document.write(`<br>testArr : ${testArr}
                <br>testArr.reverse() : ${testArr.reverse()}
                <br>testArr : ${testArr}`);
</script>
        </li>
      </ul>
      <hr>
      <h2>체크박스에서 체크된 요소의 값 input에 출력</h2>
      <form class="" name="colorCheckForm">
        <p>
          <label>
            블랙 : <input type="checkbox" name="colorCheckBox" value="블랙">
          </label>
          <label>
            레드 : <input type="checkbox" name="colorCheckBox" value="레드">
          </label>
          <label>
            그린 : <input type="checkbox" name="colorCheckBox" value="그린">
          </label>
          <label>
            블루 : <input type="checkbox" name="colorCheckBox" value="블루">
          </label>
          <label>
            화이트 : <input type="checkbox" name="colorCheckBox" value="화이트">
          </label>
          <label>
            레몬 : <input type="checkbox" name="colorCheckBox" value="레몬">
          </label>
          <label>
            오렌지 : <input type="checkbox" name="colorCheckBox" value="오렌지">
          </label>
        </p>
        <p>
          <input type="text" name="colorInput" value="" placeholder="레몬, 화이트, ...">
          <input type="reset" name="rstBtn" value="초기화">
        </p>
      </form>
<script>
const colorCheckForm = document.forms["colorCheckForm"];
const colorCheckBoxs = colorCheckForm.colorCheckBox;
const colorInput = colorCheckForm.colorInput;
const rstBtn = colorCheckForm.rstBtn;

const checkedList = [];
// const colorCheckBoxIdx = {
//   "블랙" : 0,
//   "레드" : 1,
//   "그린" : 2,
//   "블루" : 3,
//   "화이트" : 4,
//   "레몬" : 5,
//   "오렌지" : 6
// };
const colorCheckBoxIdx = {};
for(let idx in colorCheckBoxs) {
  colorCheckBoxIdx[colorCheckBoxs[idx].value]=idx;
}

// check -> input
for(let el of colorCheckBoxs) {
  // console.log(el);
  el.addEventListener('change', (e) => {
    if(e.target.checked) {
      checkedList.push(e.target.value);
    }
    else {
      for(let idx in checkedList) {
        if(e.target.value===checkedList[idx]) {
          checkedList.splice(idx,1);
          break;
        }
      }
    }
    colorInput.value = checkedList.toString();
  });
}

// input -> check
colorInput.addEventListener('input', (e) => {
  const inputList = e.target.value.split(",");
  const inputListFiltered = inputList.filter(val => colorCheckBoxIdx[val]!=undefined);
  let key;

  // checkedList push & pop
  // console.log(inputListFiltered);
  if(checkedList.length < inputListFiltered.length) {
    // push
    key = inputListFiltered.slice(-1).toString();
    if(colorCheckBoxs[colorCheckBoxIdx[key]].checked == false)
      checkedList.push(key);
  }
  else if(checkedList.length > inputListFiltered.length) {
    // pop
    checkedList.pop();
  }

  // 입력 데이터 유효성 검사
  // console.log(e);
  // console.log(e.data);
  if(e.data===",") {
    e.target.value = checkedList.toString()+(checkedList.length ? "," : "");
  }

  for(let el of colorCheckBoxs) {
    el.checked = false;
  }

  // console.log(checkedList);

  // 1. 이중 for문 비교
  // for(let val of checkedList) {
  //   for(let el of colorCheckBoxs) {
  //     if(val===el.value) {
  //       el.checked=true;
  //       break;
  //     }
  //   }
  // }

  // 2. json
  for(let val of checkedList) {
    key = colorCheckBoxIdx[val];
    // console.log(key);

    if(key != undefined) {
      colorCheckBoxs[key].checked = true;
    }
  }

  // 3. querySelector 사용

  // console.log(checkedList);
});
colorInput.addEventListener("change", (e) => {
  e.target.value = checkedList.toString();
});

// reset button
rstBtn.addEventListener('click', (e) => {
  // 배열 초기화
  // 0. 빈배열 할당 ( 배열의 변수가 const인 경우 사용 불가능 )
  // 1. splice
  // checkedList.splice(0,checkedList.length);
  // 2. pop
  // while(checkedList.length>0) checkedList.pop();
  // // 3. 배열 길이 설정
  checkedList.length = 0;
  // console.log(checkedList);
});
</script>
      <hr>
      <h2>달력만들기</h2>
      <p>2021 달력을 반복문으로 출력하세요</p>
      <div class="calendar">
        <div class="month"></div>
        <div class="btn"></div>
        <div class="day item">
          <span>일</span>
        </div>
        <div class="day item">
          <span>월</span>
        </div>
        <div class="day item">
          <span>화</span>
        </div>
        <div class="day item">
          <span>수</span>
        </div>
        <div class="day item">
          <span>목</span>
        </div>
        <div class="day item">
          <span>금</span>
        </div>
        <div class="day item">
          <span>토</span>
        </div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
        <div class="date item"></div>
      </div>
<script>
const days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
console.log(new Date(2021,1,0).getDate());
console.log(days[new Date("2021-01-01T00:00:00").getDay()])
</script>
    </main>
  </body>
</html>
